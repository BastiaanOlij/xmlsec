<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Compiling and linking on Unix.</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="XML Security Library Reference Manual"
HREF="index.html"><LINK
REL="UP"
TITLE="Building the application with XML Security Library."
HREF="xmlsec-notes-compiling.html"><LINK
REL="PREVIOUS"
TITLE="Include files."
HREF="xmlsec-notes-include-files.html"><LINK
REL="NEXT"
TITLE="Compiling and linking on Windows."
HREF="xmlsec-notes-compiling-windows.html"><STYLE
TYPE="text/css"
>.synopsis, .classsynopsis {
    background: #eeeeee;
    border: solid 1px #aaaaaa;
    padding: 0.5em;
}
.programlisting {
    background: #eeeeff;
    border: solid 1px #aaaaff;
    padding: 0.5em;
}
.variablelist {
    padding: 4px;
    margin-left: 3em;
}
.navigation {
    background: #ffeeee;
    border: solid 1px #ffaaaa;
    margin-top: 0.5em;
    margin-bottom: 0.5em;
}
.navigation a {
    color: #770000;
}
.navigation a:visited {
    color: #550000;
}
.navigation .title {
    font-size: 200%;
}</STYLE
></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><TABLE
WIDTH="100%"
CLASS="navigation"
SUMMARY="Navigation header"
CELLPADDING="2"
CELLSPACING="2"
><TR
VALIGN="middle"
><TD
><A
ACCESSKEY="p"
HREF="xmlsec-notes-include-files.html"
><IMG
SRC="left.png"
WIDTH="16"
HEIGHT="16"
BORDER="0"
ALT="Prev"></A
></TD
><TD
><A
ACCESSKEY="u"
HREF="xmlsec-notes-compiling.html"
><IMG
SRC="up.png"
WIDTH="16"
HEIGHT="16"
BORDER="0"
ALT="Up"></A
></TD
><TD
><A
ACCESSKEY="h"
HREF="index.html"
><IMG
SRC="home.png"
WIDTH="16"
HEIGHT="16"
BORDER="0"
ALT="Home"></A
></TD
><TH
WIDTH="100%"
align="center"
>XML Security Library Reference Manual</TH
><TD
><A
ACCESSKEY="n"
HREF="xmlsec-notes-compiling-windows.html"
><IMG
SRC="right.png"
WIDTH="16"
HEIGHT="16"
BORDER="0"
ALT="Next"></A
></TD
></TR
></TABLE
><BR
CLEAR="all"><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="XMLSEC-NOTES-COMPILING-UNIX"
>Compiling and linking on Unix.</A
></H1
><P
>There are several ways to get necessary compilation
	and linking information on Unix and application can use
	any of these methods to do crypto engine selection either
	at linking or run time.
	
	<P
></P
><UL
><LI
><P
>PKG_CHECK_MODULES() macro
		<DIV
CLASS="EXAMPLE"
><A
NAME="AEN70"
></A
><P
><B
>Example 2. Using PKG_CHECK_MODULES() macro in a configure.in file
		    to select crypto engine (openssl) at linking time.</B
></P
><PRE
CLASS="PROGRAMLISTING"
>dnl 
dnl Check for xmlsec and friends
dnl
PKG_CHECK_MODULES(XMLSEC, xmlsec1-openssl &#62;= 1.0.0 xml2 libxslt,,exit)
CFLAGS="$CFLAGS $XMLSEC_CFLAGS"
CPPFLAGS="$CPPFLAGS $XMLSEC_CFLAGS"
LDFLAGS="$LDFLAGS $XMLSEC_LIBS"
		    </PRE
></DIV
>

		<DIV
CLASS="EXAMPLE"
><A
NAME="AEN73"
></A
><P
><B
>Example 3. Using PKG_CHECK_MODULES() macro in a configure.in file
		    to enable dynamical loading of xmlsec-crypto library.</B
></P
><PRE
CLASS="PROGRAMLISTING"
>dnl 
dnl Check for xmlsec and friends
dnl
PKG_CHECK_MODULES(XMLSEC, xmlsec1 &#62;= 1.0.0 xml2 libxslt,,exit)
CFLAGS="$CFLAGS $XMLSEC_CFLAGS"
CPPFLAGS="$CPPFLAGS $XMLSEC_CFLAGS"
LDFLAGS="$LDFLAGS $XMLSEC_LIBS"
		    </PRE
></DIV
>

	    </P
></LI
><LI
><P
>pkg-config script
		<DIV
CLASS="EXAMPLE"
><A
NAME="AEN78"
></A
><P
><B
>Example 4. Using pkg-config script in a Makefile
		    to select crypto engine (nss) at linking time.</B
></P
><PRE
CLASS="PROGRAMLISTING"
>PROGRAM = test
PROGRAM_FILES = test.c

CFLAGS	+= -g $(shell pkg-config --cflags xmlsec1-nss)
LDFLAGS	+= -g
LIBS 	+= $(shell pkg-config --libs xmlsec1-nss) 

all: $(PROGRAM)

%: %.c 
	$(cc) $(PROGRAM_FILES) $(CFLAGS) $(LDFLAGS) -o $(PROGRAM) $(LIBS)

clean:
	@rm -rf $(PROGRAM)
		    </PRE
></DIV
>


		<DIV
CLASS="EXAMPLE"
><A
NAME="AEN81"
></A
><P
><B
>Example 5. Using pkg-config script in a Makefile
		    to enable dynamical loading of xmlsec-crypto library.</B
></P
><PRE
CLASS="PROGRAMLISTING"
>PROGRAM = test
PROGRAM_FILES = test.c

CFLAGS	+= -g $(shell pkg-config --cflags xmlsec1)
LDFLAGS	+= -g
LIBS 	+= $(shell pkg-config --libs xmlsec1) 

all: $(PROGRAM)

%: %.c 
	$(cc) $(PROGRAM_FILES) $(CFLAGS) $(LDFLAGS) -o $(PROGRAM) $(LIBS)

clean:
	@rm -rf $(PROGRAM)
		    </PRE
></DIV
>

	    </P
></LI
><LI
><P
>xmlsec1-config script
		<DIV
CLASS="EXAMPLE"
><A
NAME="AEN86"
></A
><P
><B
>Example 6. Using xmlsec1-config script in a Makefile
		    to select crypto engine (e.g. gnutls) at linking time.</B
></P
><PRE
CLASS="PROGRAMLISTING"
>PROGRAM = test
PROGRAM_FILES = test.c

CFLAGS	+= -g $(shell xmlsec1-config --crypto gnutls --cflags)
LDFLAGS	+= -g
LIBS 	+= $(shell xmlsec1-config --crypto gnutls --libs) 

all: $(PROGRAM)

%: %.c 
	$(cc) $(PROGRAM_FILES) $(CFLAGS) $(LDFLAGS) -o $(PROGRAM) $(LIBS)

clean:
	@rm -rf $(PROGRAM)
		    </PRE
></DIV
>

		<DIV
CLASS="EXAMPLE"
><A
NAME="AEN89"
></A
><P
><B
>Example 7. Using xmlsec1-config script in a Makefile
		    to enable dynamical loading of xmlsec-crypto library.</B
></P
><PRE
CLASS="PROGRAMLISTING"
>PROGRAM = test
PROGRAM_FILES = test.c

CFLAGS	+= -g $(shell xmlsec1-config --cflags)
LDFLAGS	+= -g
LIBS 	+= $(shell xmlsec1-config --libs) 

all: $(PROGRAM)

%: %.c 
	$(cc) $(PROGRAM_FILES) $(CFLAGS) $(LDFLAGS) -o $(PROGRAM) $(LIBS)

clean:
	@rm -rf $(PROGRAM)
		    </PRE
></DIV
>
		</P
></LI
></UL
>
	</P
></DIV
><TABLE
CLASS="navigation"
WIDTH="100%"
SUMMARY="Navigation footer"
CELLPADDING="2"
CELLSPACING="2"
><TR
VALIGN="middle"
><TD
ALIGN="left"
><A
ACCESSKEY="p"
HREF="xmlsec-notes-include-files.html"
><B
>&lt;&lt;&lt;&nbsp;Include files.</B
></A
></TD
><TD
ALIGN="right"
><A
ACCESSKEY="n"
HREF="xmlsec-notes-compiling-windows.html"
><B
>Compiling and linking on Windows.&nbsp;&gt;&gt;&gt;</B
></A
></TD
></TR
></TABLE
></BODY
></HTML
>