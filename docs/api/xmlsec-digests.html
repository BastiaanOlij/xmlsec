<HTML
><HEAD
><TITLE
>digests.h</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="XML Security Library Reference Manual"
HREF="index.html"><LINK
REL="UP"
TITLE="XML Security Library Internal Functions Reference"
HREF="xmlsec-ref-int.html"><LINK
REL="PREVIOUS"
TITLE="ciphers.h"
HREF="xmlsec-ciphers.html"><LINK
REL="NEXT"
TITLE="io.h"
HREF="xmlsec-io.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
BGCOLOR="#000000"
CELLPADDING="1"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="5"
>XML Security Library Reference Manual</FONT
></TH
></TR
><TR
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="left"
><A
HREF="xmlsec-ciphers.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>&#60;&#60;&#60; Previous Page</B
></FONT
></A
></TD
><TD
WIDTH="25%"
BGCOLOR="#0000C0"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="index.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Home</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#00C000"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="xmlsec-ref-int.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Up</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="right"
><A
HREF="xmlsec-io.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Next Page &#62;&#62;&#62;</B
></FONT
></A
></TD
></TR
></TABLE
></DIV
><H1
><A
NAME="XMLSEC-DIGESTS">digests.h</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN5874"
></A
><H2
>Name</H2
>digests.h&nbsp;--&nbsp;The digests transform.</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN5877"><H2
>Synopsis</H2
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>&#13;

struct      <A
HREF="xmlsec-digests.html#XMLSECDIGESTTRANSFORM"
>xmlSecDigestTransform</A
>;
typedef     <A
HREF="xmlsec-digests.html#XMLSECDIGESTTRANSFORMID"
>xmlSecDigestTransformId</A
>;
int         (<A
HREF="xmlsec-digests.html#XMLSECDIGESTUPDATEMETHOD"
>*xmlSecDigestUpdateMethod</A
>)     (<GTKDOCLINK
HREF="XMLSECDIGESTTRANSFORMPTR"
>xmlSecDigestTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char *buffer,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> size);
int         (<A
HREF="xmlsec-digests.html#XMLSECDIGESTSIGNMETHOD"
>*xmlSecDigestSignMethod</A
>)       (<GTKDOCLINK
HREF="XMLSECDIGESTTRANSFORMPTR"
>xmlSecDigestTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char **buffer,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> *size);
int         (<A
HREF="xmlsec-digests.html#XMLSECDIGESTVERIFYMETHOD"
>*xmlSecDigestVerifyMethod</A
>)     (<GTKDOCLINK
HREF="XMLSECDIGESTTRANSFORMPTR"
>xmlSecDigestTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char *buffer,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> size);
int         <A
HREF="xmlsec-digests.html#XMLSECDIGESTSIGNNODE"
>xmlSecDigestSignNode</A
>            (<GTKDOCLINK
HREF="XMLSECTRANSFORMPTR"
>xmlSecTransformPtr</GTKDOCLINK
> transform,
                                             <GTKDOCLINK
HREF="XMLNODEPTR"
>xmlNodePtr</GTKDOCLINK
> valueNode,
                                             int removeOldContent);
int         <A
HREF="xmlsec-digests.html#XMLSECDIGESTVERIFYNODE"
>xmlSecDigestVerifyNode</A
>          (<GTKDOCLINK
HREF="XMLSECTRANSFORMPTR"
>xmlSecTransformPtr</GTKDOCLINK
> transform,
                                             const <GTKDOCLINK
HREF="XMLNODEPTR"
>xmlNodePtr</GTKDOCLINK
> valueNode);
void        <A
HREF="xmlsec-digests.html#XMLSECDIGESTSETPUSHMODE"
>xmlSecDigestSetPushMode</A
>         (<GTKDOCLINK
HREF="XMLSECTRANSFORMPTR"
>xmlSecTransformPtr</GTKDOCLINK
> transform,
                                             int enabled);
int         <A
HREF="xmlsec-digests.html#XMLSECDIGESTUPDATE"
>xmlSecDigestUpdate</A
>              (<GTKDOCLINK
HREF="XMLSECTRANSFORMPTR"
>xmlSecTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char *buffer,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> size);
int         <A
HREF="xmlsec-digests.html#XMLSECDIGESTSIGN"
>xmlSecDigestSign</A
>                (<GTKDOCLINK
HREF="XMLSECTRANSFORMPTR"
>xmlSecTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char **buffer,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> *size);
int         <A
HREF="xmlsec-digests.html#XMLSECDIGESTVERIFY"
>xmlSecDigestVerify</A
>              (<GTKDOCLINK
HREF="XMLSECTRANSFORMPTR"
>xmlSecTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char *buffer,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> size);
int         <A
HREF="xmlsec-digests.html#XMLSECDIGESTTRANSFORMREAD"
>xmlSecDigestTransformRead</A
>       (<GTKDOCLINK
HREF="XMLSECBINTRANSFORMPTR"
>xmlSecBinTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char *buf,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> size);
int         <A
HREF="xmlsec-digests.html#XMLSECDIGESTTRANSFORMWRITE"
>xmlSecDigestTransformWrite</A
>      (<GTKDOCLINK
HREF="XMLSECBINTRANSFORMPTR"
>xmlSecBinTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char *buf,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> size);
int         <A
HREF="xmlsec-digests.html#XMLSECDIGESTTRANSFORMFLUSH"
>xmlSecDigestTransformFlush</A
>      (<GTKDOCLINK
HREF="XMLSECBINTRANSFORMPTR"
>xmlSecBinTransformPtr</GTKDOCLINK
> transform);</PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN5916"
></A
><H2
>Description</H2
><P
></P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN5919"
></A
><H2
>Details</H2
><DIV
CLASS="REFSECT2"
><A
NAME="AEN5921"
></A
><H3
><A
NAME="XMLSECDIGESTTRANSFORM"
></A
>struct xmlSecDigestTransform</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>struct xmlSecDigestTransform {	
    /* same as for xmlSecTransform but id type changed */
    xmlSecDigestTransformId		id;    
    xmlSecTransformStatus		status;
    int					dontDestroy;
    void				*data;
    
    /* xmlSecBinTransform specific */
    int					encode;
    xmlSecDigestTransformPtr		next;
    xmlSecDigestTransformPtr		prev;   
    void				*binData;
    
    /* xmlSecDigestTransform specific */
    int					pushModeEnabled;
    unsigned char			*digest;
    size_t				digestSize;
    void 				*digestData;
};</PRE
></TD
></TR
></TABLE
><P
>The digests transform.</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN5927"><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFF0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
><A
HREF="xmlsec-digests.html#XMLSECDIGESTTRANSFORMID"
>xmlSecDigestTransformId</A
> <TT
CLASS="STRUCTFIELD"
><I
>id</I
></TT
></TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the transform id (pointer to <A
HREF="xmlsec-transformsinternal.html#XMLSECBINTRANSFORMID"
>xmlSecBinTransformId</A
>).</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
><A
HREF="xmlsec-transforms.html#XMLSECTRANSFORMSTATUS"
>xmlSecTransformStatus</A
> <TT
CLASS="STRUCTFIELD"
><I
>status</I
></TT
></TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the transform status (ok/fail/unknown).</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>int <TT
CLASS="STRUCTFIELD"
><I
>dontDestroy</I
></TT
></TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the don't automatically destroy flag.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>void *<TT
CLASS="STRUCTFIELD"
><I
>data</I
></TT
></TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to transform specific data.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>int <TT
CLASS="STRUCTFIELD"
><I
>encode</I
></TT
></TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> encode/decode (encrypt/decrypt) flag.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
><GTKDOCLINK
HREF="XMLSECDIGESTTRANSFORMPTR"
>xmlSecDigestTransformPtr</GTKDOCLINK
> <TT
CLASS="STRUCTFIELD"
><I
>next</I
></TT
></TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> next binary transform in the chain.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
><GTKDOCLINK
HREF="XMLSECDIGESTTRANSFORMPTR"
>xmlSecDigestTransformPtr</GTKDOCLINK
> <TT
CLASS="STRUCTFIELD"
><I
>prev</I
></TT
></TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> previous binary transform in the chain.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>void *<TT
CLASS="STRUCTFIELD"
><I
>binData</I
></TT
></TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to binary transform speific data.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>int <TT
CLASS="STRUCTFIELD"
><I
>pushModeEnabled</I
></TT
></TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> if 1 then the data are sent to next transform, otherwise
	 we are keeping data for sign or verify call.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>unsigned char *<TT
CLASS="STRUCTFIELD"
><I
>digest</I
></TT
></TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the internal digest buffer.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
><GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> <TT
CLASS="STRUCTFIELD"
><I
>digestSize</I
></TT
></TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the internal digest buffer size.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>void *<TT
CLASS="STRUCTFIELD"
><I
>digestData</I
></TT
></TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to digest transform specific data.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN5986"
></A
><H3
><A
NAME="XMLSECDIGESTTRANSFORMID"
></A
>xmlSecDigestTransformId</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>typedef const struct _xmlSecDigestTransformIdStruct	*xmlSecDigestTransformId;</PRE
></TD
></TR
></TABLE
><P
>The digest transform id (<TT
CLASS="LITERAL"
>xmlSecTransformTypeBinary</TT
> type).</P
><P
></P
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN5993"
></A
><H3
><A
NAME="XMLSECDIGESTUPDATEMETHOD"
></A
>xmlSecDigestUpdateMethod ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>int         (*xmlSecDigestUpdateMethod)     (<GTKDOCLINK
HREF="XMLSECDIGESTTRANSFORMPTR"
>xmlSecDigestTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char *buffer,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> size);</PRE
></TD
></TR
></TABLE
><P
>Updates digest with new chunk of data.</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN6001"><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>transform</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to digests transform <A
HREF="xmlsec-digests.html#XMLSECDIGESTTRANSFORM"
>xmlSecDigestTransform</A
>.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>buffer</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the input data.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>size</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the input data size.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
>0 on success or a negative value otherwise.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN6023"
></A
><H3
><A
NAME="XMLSECDIGESTSIGNMETHOD"
></A
>xmlSecDigestSignMethod ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>int         (*xmlSecDigestSignMethod)       (<GTKDOCLINK
HREF="XMLSECDIGESTTRANSFORMPTR"
>xmlSecDigestTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char **buffer,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> *size);</PRE
></TD
></TR
></TABLE
><P
>Finalizes digest and returns result in allocated buffer (<TT
CLASS="PARAMETER"
><I
>buffer</I
></TT
>, <TT
CLASS="PARAMETER"
><I
>size</I
></TT
>).
The caller is responsible for freeing returned buffer with <GTKDOCLINK
HREF="XMLFREE"
>xmlFree</GTKDOCLINK
>() function.</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN6034"><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>transform</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to digests transform <A
HREF="xmlsec-digests.html#XMLSECDIGESTTRANSFORM"
>xmlSecDigestTransform</A
>.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>buffer</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to pointer to the output data.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>size</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to outut data size.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
>0 on success or a negative value otherwise.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN6056"
></A
><H3
><A
NAME="XMLSECDIGESTVERIFYMETHOD"
></A
>xmlSecDigestVerifyMethod ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>int         (*xmlSecDigestVerifyMethod)     (<GTKDOCLINK
HREF="XMLSECDIGESTTRANSFORMPTR"
>xmlSecDigestTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char *buffer,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> size);</PRE
></TD
></TR
></TABLE
><P
>Verifies digest with new chunk of data. The actual verification
status is set in <GTKDOCLINK
HREF="STATUS"
>status</GTKDOCLINK
> member of <A
HREF="xmlsec-digests.html#XMLSECDIGESTTRANSFORM"
>xmlSecDigestTransform</A
> structure.</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN6066"><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>transform</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to digests transform <A
HREF="xmlsec-digests.html#XMLSECDIGESTTRANSFORM"
>xmlSecDigestTransform</A
>.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>buffer</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the input data.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>size</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the input data size.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
>1 on success or a negative value otherwise.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN6088"
></A
><H3
><A
NAME="XMLSECDIGESTSIGNNODE"
></A
>xmlSecDigestSignNode ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>int         xmlSecDigestSignNode            (<GTKDOCLINK
HREF="XMLSECTRANSFORMPTR"
>xmlSecTransformPtr</GTKDOCLINK
> transform,
                                             <GTKDOCLINK
HREF="XMLNODEPTR"
>xmlNodePtr</GTKDOCLINK
> valueNode,
                                             int removeOldContent);</PRE
></TD
></TR
></TABLE
><P
>Finalizes the digest result, signs it (if necessary), base64 encodes and
puts in the given node.</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN6096"><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>transform</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to a digest transform.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>valueNode</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to &lt;dsig:DigestValue&gt; node.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>removeOldContent</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the flag that indicates whether the previous
            node content will be removed or not.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
>0 on success or a negative value if an error occurs.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN6117"
></A
><H3
><A
NAME="XMLSECDIGESTVERIFYNODE"
></A
>xmlSecDigestVerifyNode ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>int         xmlSecDigestVerifyNode          (<GTKDOCLINK
HREF="XMLSECTRANSFORMPTR"
>xmlSecTransformPtr</GTKDOCLINK
> transform,
                                             const <GTKDOCLINK
HREF="XMLNODEPTR"
>xmlNodePtr</GTKDOCLINK
> valueNode);</PRE
></TD
></TR
></TABLE
><P
>Reads the node content, base64 decodes it, finalizes the digest result and
verifies that it does match with the content of the node.</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN6125"><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>transform</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to a digest transform.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>valueNode</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to a &lt;dsig:DigestValue&gt; node.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
>0 on success or a negative value if an error occurs.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN6142"
></A
><H3
><A
NAME="XMLSECDIGESTSETPUSHMODE"
></A
>xmlSecDigestSetPushMode ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>void        xmlSecDigestSetPushMode         (<GTKDOCLINK
HREF="XMLSECTRANSFORMPTR"
>xmlSecTransformPtr</GTKDOCLINK
> transform,
                                             int enabled);</PRE
></TD
></TR
></TABLE
><P
>Sets the push more flag. If push mode is enabled then the digest is
finalized and send to next transform when 
1) read from previous transform returned 0
2) flush called</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN6149"><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>transform</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to a digests transform.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>enabled</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the new "push mode" flag.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN6162"
></A
><H3
><A
NAME="XMLSECDIGESTUPDATE"
></A
>xmlSecDigestUpdate ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>int         xmlSecDigestUpdate              (<GTKDOCLINK
HREF="XMLSECTRANSFORMPTR"
>xmlSecTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char *buffer,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> size);</PRE
></TD
></TR
></TABLE
><P
>Updates data with the new chunk of data (wrapper for 
xmlSecDigestTransformId::digestUpdate method).</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN6170"><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>transform</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to a digests transform.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>buffer</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the input data.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>size</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the input data size.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
>0 on success or a negative value otherwise.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN6191"
></A
><H3
><A
NAME="XMLSECDIGESTSIGN"
></A
>xmlSecDigestSign ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>int         xmlSecDigestSign                (<GTKDOCLINK
HREF="XMLSECTRANSFORMPTR"
>xmlSecTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char **buffer,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> *size);</PRE
></TD
></TR
></TABLE
><P
>Finalizes digest and writes the result into the allocated 
buffer (wrapper for xmlSecDigestTransformId::digestSign function).
Caller is responsble for freeing allocated buffer with <GTKDOCLINK
HREF="XMLFREE"
>xmlFree</GTKDOCLINK
>() function.</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN6200"><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>transform</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to a digests transform.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>buffer</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to the pointer to the output buffer.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>size</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to the output buffer size.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
>0 on success or a negative value otherwise.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN6221"
></A
><H3
><A
NAME="XMLSECDIGESTVERIFY"
></A
>xmlSecDigestVerify ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>int         xmlSecDigestVerify              (<GTKDOCLINK
HREF="XMLSECTRANSFORMPTR"
>xmlSecTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char *buffer,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> size);</PRE
></TD
></TR
></TABLE
><P
>Checks the computed digest and the data in the input buffer
(wrapper for xmlSecDigestTransformId::digestVerify function).</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN6229"><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>transform</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to a digests transform.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>buffer</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the input buffer.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>size</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the input buffer size.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
>0 on success or a negative value otherwise.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN6250"
></A
><H3
><A
NAME="XMLSECDIGESTTRANSFORMREAD"
></A
>xmlSecDigestTransformRead ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>int         xmlSecDigestTransformRead       (<GTKDOCLINK
HREF="XMLSECBINTRANSFORMPTR"
>xmlSecBinTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char *buf,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> size);</PRE
></TD
></TR
></TABLE
><P
>Reads all data from previos transform and digests it. If the 
push mode enabled then the result is finalized and returned to the caller,
otherwise we return 0</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN6258"><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>transform</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to a digest transform.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>buf</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the output buffer.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>size</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the output buffer size.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
>the number of bytes in the buffer or negative value
if an error occurs.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN6279"
></A
><H3
><A
NAME="XMLSECDIGESTTRANSFORMWRITE"
></A
>xmlSecDigestTransformWrite ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>int         xmlSecDigestTransformWrite      (<GTKDOCLINK
HREF="XMLSECBINTRANSFORMPTR"
>xmlSecBinTransformPtr</GTKDOCLINK
> transform,
                                             unsigned char *buf,
                                             <GTKDOCLINK
HREF="SIZE-T"
>size_t</GTKDOCLINK
> size);</PRE
></TD
></TR
></TABLE
><P
>Adds new chunk of data to the digest.</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN6287"><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>transform</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the poiter to a digests transform.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>buf</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the input data buffer.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>size</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the input data size.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
>0 if success or a negative value otherwise.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN6308"
></A
><H3
><A
NAME="XMLSECDIGESTTRANSFORMFLUSH"
></A
>xmlSecDigestTransformFlush ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>int         xmlSecDigestTransformFlush      (<GTKDOCLINK
HREF="XMLSECBINTRANSFORMPTR"
>xmlSecBinTransformPtr</GTKDOCLINK
> transform);</PRE
></TD
></TR
></TABLE
><P
>If the push mode enabled then the function finalizes the result,
writes it to the next transform and calls flush for it. Otherwise,
it just calls flush for next transform</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN6315"><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>transform</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the pointer to a digests transform.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>Returns</I
></SPAN
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
>0 if success or negative value otherwise.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><BR
CLEAR="all"><BR><TABLE
WIDTH="100%"
BORDER="0"
BGCOLOR="#000000"
CELLPADDING="1"
CELLSPACING="0"
><TR
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="left"
><A
HREF="xmlsec-ciphers.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>&#60;&#60;&#60; Previous Page</B
></FONT
></A
></TD
><TD
WIDTH="25%"
BGCOLOR="#0000C0"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="index.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Home</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#00C000"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="xmlsec-ref-int.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Up</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="right"
><A
HREF="xmlsec-io.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Next Page &#62;&#62;&#62;</B
></FONT
></A
></TD
></TR
><TR
><TD
COLSPAN="2"
ALIGN="left"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>ciphers.h</B
></FONT
></TD
><TD
COLSPAN="2"
ALIGN="right"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>io.h</B
></FONT
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>