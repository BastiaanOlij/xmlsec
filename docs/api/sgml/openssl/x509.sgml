<refentry id="xmlsec-openssl-x509">
<refmeta>
<refentrytitle role="top_of_page" id="xmlsec-openssl-x509.top_of_page">x509</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo>XMLSEC-OPENSSL Library</refmiscinfo>
</refmeta>
<refnamediv>
<refname>x509</refname>
<refpurpose>X509 certificates support implementation for OpenSSL.</refpurpose>
</refnamediv>

<refsect1 id="xmlsec-openssl-x509.functions" role="functions_proto">
<title role="functions_proto.title">Functions</title>
<informaltable pgwide="1" frame="none">
<tgroup cols="2">
<colspec colname="functions_return" colwidth="150px"/>
<colspec colname="functions_name"/>
<tbody>
<row><entry role="function_type"><link linkend="xmlSecKeyDataId"><returnvalue>xmlSecKeyDataId</returnvalue></link>
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLKeyDataX509GetKlass">xmlSecOpenSSLKeyDataX509GetKlass</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="X509:CAPS"><returnvalue>X509</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLKeyDataX509GetKeyCert">xmlSecOpenSSLKeyDataX509GetKeyCert</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="int"><returnvalue>int</returnvalue></link>
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLKeyDataX509AdoptKeyCert">xmlSecOpenSSLKeyDataX509AdoptKeyCert</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="int"><returnvalue>int</returnvalue></link>
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLKeyDataX509AdoptCert">xmlSecOpenSSLKeyDataX509AdoptCert</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="X509:CAPS"><returnvalue>X509</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLKeyDataX509GetCert">xmlSecOpenSSLKeyDataX509GetCert</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="xmlSecSize"><returnvalue>xmlSecSize</returnvalue></link>
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLKeyDataX509GetCertsSize">xmlSecOpenSSLKeyDataX509GetCertsSize</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="int"><returnvalue>int</returnvalue></link>
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLKeyDataX509AdoptCrl">xmlSecOpenSSLKeyDataX509AdoptCrl</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="X509-CRL:CAPS"><returnvalue>X509_CRL</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLKeyDataX509GetCrl">xmlSecOpenSSLKeyDataX509GetCrl</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="xmlSecSize"><returnvalue>xmlSecSize</returnvalue></link>
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLKeyDataX509GetCrlsSize">xmlSecOpenSSLKeyDataX509GetCrlsSize</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="xmlSecKeyData"><returnvalue>xmlSecKeyDataPtr</returnvalue></link>
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLX509CertGetKey">xmlSecOpenSSLX509CertGetKey</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="xmlSecKeyDataId"><returnvalue>xmlSecKeyDataId</returnvalue></link>
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLKeyDataRawX509CertGetKlass">xmlSecOpenSSLKeyDataRawX509CertGetKlass</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="xmlSecKeyDataStoreId"><returnvalue>xmlSecKeyDataStoreId</returnvalue></link>
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLX509StoreGetKlass">xmlSecOpenSSLX509StoreGetKlass</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="X509:CAPS"><returnvalue>X509</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLX509StoreFindCert">xmlSecOpenSSLX509StoreFindCert</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="X509:CAPS"><returnvalue>X509</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLX509StoreVerify">xmlSecOpenSSLX509StoreVerify</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="int"><returnvalue>int</returnvalue></link>
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLX509StoreAdoptCert">xmlSecOpenSSLX509StoreAdoptCert</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="int"><returnvalue>int</returnvalue></link>
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLX509StoreAdoptCrl">xmlSecOpenSSLX509StoreAdoptCrl</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="int"><returnvalue>int</returnvalue></link>
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLX509StoreAddCertsPath">xmlSecOpenSSLX509StoreAddCertsPath</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="int"><returnvalue>int</returnvalue></link>
</entry><entry role="function_name"><link linkend="xmlSecOpenSSLX509StoreAddCertsFile">xmlSecOpenSSLX509StoreAddCertsFile</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>

</tbody>
</tgroup>
</informaltable>
</refsect1>
<refsect1 id="xmlsec-openssl-x509.other" role="other_proto">
<title role="other_proto.title">Types and Values</title>
<informaltable role="enum_members_table" pgwide="1" frame="none">
<tgroup cols="2">
<colspec colname="name" colwidth="150px"/>
<colspec colname="description"/>
<tbody>
<row><entry role="define_keyword">#define</entry><entry role="function_name"><link linkend="XMLSEC-STACK-OF-X509:CAPS">XMLSEC_STACK_OF_X509</link></entry></row>
<row><entry role="define_keyword">#define</entry><entry role="function_name"><link linkend="XMLSEC-STACK-OF-X509-CRL:CAPS">XMLSEC_STACK_OF_X509_CRL</link></entry></row>
<row><entry role="define_keyword">#define</entry><entry role="function_name"><link linkend="xmlSecOpenSSLKeyDataX509Id">xmlSecOpenSSLKeyDataX509Id</link></entry></row>
<row><entry role="define_keyword">#define</entry><entry role="function_name"><link linkend="xmlSecOpenSSLKeyDataRawX509CertId">xmlSecOpenSSLKeyDataRawX509CertId</link></entry></row>
<row><entry role="define_keyword">#define</entry><entry role="function_name"><link linkend="xmlSecOpenSSLX509StoreId">xmlSecOpenSSLX509StoreId</link></entry></row>

</tbody>
</tgroup>
</informaltable>
</refsect1>


<refsect1 id="xmlsec-openssl-x509.description" role="desc">
<title role="desc.title">Description</title>
<para>
X509 certificates support implementation for OpenSSL.
</para>

</refsect1>
<refsect1 id="xmlsec-openssl-x509.functions_details" role="details">
<title role="details.title">Functions</title>
<refsect2 id="xmlSecOpenSSLKeyDataX509GetKlass" role="function">
<title>xmlSecOpenSSLKeyDataX509GetKlass&#160;()</title>
<indexterm zone="xmlSecOpenSSLKeyDataX509GetKlass"><primary>xmlSecOpenSSLKeyDataX509GetKlass</primary></indexterm>
<programlisting language="C"><link linkend="xmlSecKeyDataId"><returnvalue>xmlSecKeyDataId</returnvalue></link>
xmlSecOpenSSLKeyDataX509GetKlass (<parameter><type>void</type></parameter>);</programlisting>
<para>The OpenSSL X509 key data klass (http://www.w3.org/TR/xmldsig-core/<link linkend="sec-X509Data"><type>sec-X509Data</type></link>).</para>
<refsect3 role="returns">
<title>Returns</title>
<para> the X509 data klass.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLKeyDataX509GetKeyCert" role="function">
<title>xmlSecOpenSSLKeyDataX509GetKeyCert&#160;()</title>
<indexterm zone="xmlSecOpenSSLKeyDataX509GetKeyCert"><primary>xmlSecOpenSSLKeyDataX509GetKeyCert</primary></indexterm>
<programlisting language="C"><link linkend="X509:CAPS"><returnvalue>X509</returnvalue></link>&#160;*
xmlSecOpenSSLKeyDataX509GetKeyCert (<parameter><link linkend="xmlSecKeyData"><type>xmlSecKeyDataPtr</type></link> data</parameter>);</programlisting>
<para>Gets the certificate from which the key was extracted.</para>
<refsect3 role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>data</para></entry>
<entry role="parameter_description"><para>the pointer to X509 key data.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 role="returns">
<title>Returns</title>
<para> the key's certificate or NULL if key data was not used for key
extraction or an error occurs.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLKeyDataX509AdoptKeyCert" role="function">
<title>xmlSecOpenSSLKeyDataX509AdoptKeyCert&#160;()</title>
<indexterm zone="xmlSecOpenSSLKeyDataX509AdoptKeyCert"><primary>xmlSecOpenSSLKeyDataX509AdoptKeyCert</primary></indexterm>
<programlisting language="C"><link linkend="int"><returnvalue>int</returnvalue></link>
xmlSecOpenSSLKeyDataX509AdoptKeyCert (<parameter><link linkend="xmlSecKeyData"><type>xmlSecKeyDataPtr</type></link> data</parameter>,
                                      <parameter><link linkend="X509:CAPS"><type>X509</type></link> *cert</parameter>);</programlisting>
<para>Sets the key's certificate in <parameter>data</parameter>
.</para>
<refsect3 role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>data</para></entry>
<entry role="parameter_description"><para>the pointer to X509 key data.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>cert</para></entry>
<entry role="parameter_description"><para>the pointer to OpenSSL X509 certificate.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 role="returns">
<title>Returns</title>
<para> 0 on success or a negative value if an error occurs.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLKeyDataX509AdoptCert" role="function">
<title>xmlSecOpenSSLKeyDataX509AdoptCert&#160;()</title>
<indexterm zone="xmlSecOpenSSLKeyDataX509AdoptCert"><primary>xmlSecOpenSSLKeyDataX509AdoptCert</primary></indexterm>
<programlisting language="C"><link linkend="int"><returnvalue>int</returnvalue></link>
xmlSecOpenSSLKeyDataX509AdoptCert (<parameter><link linkend="xmlSecKeyData"><type>xmlSecKeyDataPtr</type></link> data</parameter>,
                                   <parameter><link linkend="X509:CAPS"><type>X509</type></link> *cert</parameter>);</programlisting>
<para>Adds certificate to the X509 key data.</para>
<refsect3 role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>data</para></entry>
<entry role="parameter_description"><para>the pointer to X509 key data.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>cert</para></entry>
<entry role="parameter_description"><para>the pointer to OpenSSL X509 certificate.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 role="returns">
<title>Returns</title>
<para> 0 on success or a negative value if an error occurs.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLKeyDataX509GetCert" role="function">
<title>xmlSecOpenSSLKeyDataX509GetCert&#160;()</title>
<indexterm zone="xmlSecOpenSSLKeyDataX509GetCert"><primary>xmlSecOpenSSLKeyDataX509GetCert</primary></indexterm>
<programlisting language="C"><link linkend="X509:CAPS"><returnvalue>X509</returnvalue></link>&#160;*
xmlSecOpenSSLKeyDataX509GetCert (<parameter><link linkend="xmlSecKeyData"><type>xmlSecKeyDataPtr</type></link> data</parameter>,
                                 <parameter><link linkend="xmlSecSize"><type>xmlSecSize</type></link> pos</parameter>);</programlisting>
<para>Gets a certificate from X509 key data.</para>
<refsect3 role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>data</para></entry>
<entry role="parameter_description"><para>the pointer to X509 key data.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>pos</para></entry>
<entry role="parameter_description"><para>the desired certificate position.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 role="returns">
<title>Returns</title>
<para> the pointer to certificate or NULL if <parameter>pos</parameter>
is larger than the
number of certificates in <parameter>data</parameter>
or an error occurs.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLKeyDataX509GetCertsSize" role="function">
<title>xmlSecOpenSSLKeyDataX509GetCertsSize&#160;()</title>
<indexterm zone="xmlSecOpenSSLKeyDataX509GetCertsSize"><primary>xmlSecOpenSSLKeyDataX509GetCertsSize</primary></indexterm>
<programlisting language="C"><link linkend="xmlSecSize"><returnvalue>xmlSecSize</returnvalue></link>
xmlSecOpenSSLKeyDataX509GetCertsSize (<parameter><link linkend="xmlSecKeyData"><type>xmlSecKeyDataPtr</type></link> data</parameter>);</programlisting>
<para>Gets the number of certificates in <parameter>data</parameter>
.</para>
<refsect3 role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>data</para></entry>
<entry role="parameter_description"><para>the pointer to X509 key data.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 role="returns">
<title>Returns</title>
<para> te number of certificates in <parameter>data</parameter>
.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLKeyDataX509AdoptCrl" role="function">
<title>xmlSecOpenSSLKeyDataX509AdoptCrl&#160;()</title>
<indexterm zone="xmlSecOpenSSLKeyDataX509AdoptCrl"><primary>xmlSecOpenSSLKeyDataX509AdoptCrl</primary></indexterm>
<programlisting language="C"><link linkend="int"><returnvalue>int</returnvalue></link>
xmlSecOpenSSLKeyDataX509AdoptCrl (<parameter><link linkend="xmlSecKeyData"><type>xmlSecKeyDataPtr</type></link> data</parameter>,
                                  <parameter><link linkend="X509-CRL:CAPS"><type>X509_CRL</type></link> *crl</parameter>);</programlisting>
<para>Adds CRL to the X509 key data.</para>
<refsect3 role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>data</para></entry>
<entry role="parameter_description"><para>the pointer to X509 key data.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>crl</para></entry>
<entry role="parameter_description"><para>the pointer to OpenSSL X509 CRL.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 role="returns">
<title>Returns</title>
<para> 0 on success or a negative value if an error occurs.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLKeyDataX509GetCrl" role="function">
<title>xmlSecOpenSSLKeyDataX509GetCrl&#160;()</title>
<indexterm zone="xmlSecOpenSSLKeyDataX509GetCrl"><primary>xmlSecOpenSSLKeyDataX509GetCrl</primary></indexterm>
<programlisting language="C"><link linkend="X509-CRL:CAPS"><returnvalue>X509_CRL</returnvalue></link>&#160;*
xmlSecOpenSSLKeyDataX509GetCrl (<parameter><link linkend="xmlSecKeyData"><type>xmlSecKeyDataPtr</type></link> data</parameter>,
                                <parameter><link linkend="xmlSecSize"><type>xmlSecSize</type></link> pos</parameter>);</programlisting>
<para>Gets a CRL from X509 key data.</para>
<refsect3 role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>data</para></entry>
<entry role="parameter_description"><para>the pointer to X509 key data.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>pos</para></entry>
<entry role="parameter_description"><para>the desired CRL position.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 role="returns">
<title>Returns</title>
<para> the pointer to CRL or NULL if <parameter>pos</parameter>
is larger than the
number of CRLs in <parameter>data</parameter>
or an error occurs.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLKeyDataX509GetCrlsSize" role="function">
<title>xmlSecOpenSSLKeyDataX509GetCrlsSize&#160;()</title>
<indexterm zone="xmlSecOpenSSLKeyDataX509GetCrlsSize"><primary>xmlSecOpenSSLKeyDataX509GetCrlsSize</primary></indexterm>
<programlisting language="C"><link linkend="xmlSecSize"><returnvalue>xmlSecSize</returnvalue></link>
xmlSecOpenSSLKeyDataX509GetCrlsSize (<parameter><link linkend="xmlSecKeyData"><type>xmlSecKeyDataPtr</type></link> data</parameter>);</programlisting>
<para>Gets the number of CRLs in <parameter>data</parameter>
.</para>
<refsect3 role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>data</para></entry>
<entry role="parameter_description"><para>the pointer to X509 key data.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 role="returns">
<title>Returns</title>
<para> te number of CRLs in <parameter>data</parameter>
.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLX509CertGetKey" role="function">
<title>xmlSecOpenSSLX509CertGetKey&#160;()</title>
<indexterm zone="xmlSecOpenSSLX509CertGetKey"><primary>xmlSecOpenSSLX509CertGetKey</primary></indexterm>
<programlisting language="C"><link linkend="xmlSecKeyData"><returnvalue>xmlSecKeyDataPtr</returnvalue></link>
xmlSecOpenSSLX509CertGetKey (<parameter><link linkend="X509:CAPS"><type>X509</type></link> *cert</parameter>);</programlisting>
<para>Extracts public key from the <parameter>cert</parameter>
.</para>
<refsect3 role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>cert</para></entry>
<entry role="parameter_description"><para>the certificate.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 role="returns">
<title>Returns</title>
<para> public key value or NULL if an error occurs.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLKeyDataRawX509CertGetKlass" role="function">
<title>xmlSecOpenSSLKeyDataRawX509CertGetKlass&#160;()</title>
<indexterm zone="xmlSecOpenSSLKeyDataRawX509CertGetKlass"><primary>xmlSecOpenSSLKeyDataRawX509CertGetKlass</primary></indexterm>
<programlisting language="C"><link linkend="xmlSecKeyDataId"><returnvalue>xmlSecKeyDataId</returnvalue></link>
xmlSecOpenSSLKeyDataRawX509CertGetKlass
                               (<parameter><type>void</type></parameter>);</programlisting>
<para>The raw X509 certificates key data klass.</para>
<refsect3 role="returns">
<title>Returns</title>
<para> raw X509 certificates key data klass.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLX509StoreGetKlass" role="function">
<title>xmlSecOpenSSLX509StoreGetKlass&#160;()</title>
<indexterm zone="xmlSecOpenSSLX509StoreGetKlass"><primary>xmlSecOpenSSLX509StoreGetKlass</primary></indexterm>
<programlisting language="C"><link linkend="xmlSecKeyDataStoreId"><returnvalue>xmlSecKeyDataStoreId</returnvalue></link>
xmlSecOpenSSLX509StoreGetKlass (<parameter><type>void</type></parameter>);</programlisting>
<para>The OpenSSL X509 certificates key data store klass.</para>
<refsect3 role="returns">
<title>Returns</title>
<para> pointer to OpenSSL X509 certificates key data store klass.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLX509StoreFindCert" role="function">
<title>xmlSecOpenSSLX509StoreFindCert&#160;()</title>
<indexterm zone="xmlSecOpenSSLX509StoreFindCert"><primary>xmlSecOpenSSLX509StoreFindCert</primary></indexterm>
<programlisting language="C"><link linkend="X509:CAPS"><returnvalue>X509</returnvalue></link>&#160;*
xmlSecOpenSSLX509StoreFindCert (<parameter><link linkend="xmlSecKeyDataStore"><type>xmlSecKeyDataStorePtr</type></link> store</parameter>,
                                <parameter><link linkend="xmlChar"><type>xmlChar</type></link> *subjectName</parameter>,
                                <parameter><link linkend="xmlChar"><type>xmlChar</type></link> *issuerName</parameter>,
                                <parameter><link linkend="xmlChar"><type>xmlChar</type></link> *issuerSerial</parameter>,
                                <parameter><link linkend="xmlChar"><type>xmlChar</type></link> *ski</parameter>,
                                <parameter><link linkend="xmlSecKeyInfoCtx"><type>xmlSecKeyInfoCtx</type></link> *keyInfoCtx</parameter>);</programlisting>
<para>Searches <parameter>store</parameter>
 for a certificate that matches given criteria.</para>
<refsect3 role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>store</para></entry>
<entry role="parameter_description"><para>the pointer to X509 key data store klass.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>subjectName</para></entry>
<entry role="parameter_description"><para>the desired certificate name.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>issuerName</para></entry>
<entry role="parameter_description"><para>the desired certificate issuer name.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>issuerSerial</para></entry>
<entry role="parameter_description"><para>the desired certificate issuer serial number.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>ski</para></entry>
<entry role="parameter_description"><para>the desired certificate SKI.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>keyInfoCtx</para></entry>
<entry role="parameter_description"><para>the pointer to &lt;dsig:KeyInfo/> element processing context.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 role="returns">
<title>Returns</title>
<para> pointer to found certificate or NULL if certificate is not found
or an error occurs.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLX509StoreVerify" role="function">
<title>xmlSecOpenSSLX509StoreVerify&#160;()</title>
<indexterm zone="xmlSecOpenSSLX509StoreVerify"><primary>xmlSecOpenSSLX509StoreVerify</primary></indexterm>
<programlisting language="C"><link linkend="X509:CAPS"><returnvalue>X509</returnvalue></link>&#160;*
xmlSecOpenSSLX509StoreVerify (<parameter><link linkend="xmlSecKeyDataStore"><type>xmlSecKeyDataStorePtr</type></link> store</parameter>,
                              <parameter><link linkend="XMLSEC-STACK-OF-X509:CAPS"><type>XMLSEC_STACK_OF_X509</type></link> *certs</parameter>,
                              <parameter><link linkend="XMLSEC-STACK-OF-X509-CRL:CAPS"><type>XMLSEC_STACK_OF_X509_CRL</type></link> *crls</parameter>,
                              <parameter><link linkend="xmlSecKeyInfoCtx"><type>xmlSecKeyInfoCtx</type></link> *keyInfoCtx</parameter>);</programlisting>
<para>Verifies <parameter>certs</parameter>
 list.</para>
<refsect3 role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>store</para></entry>
<entry role="parameter_description"><para>the pointer to X509 key data store klass.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>certs</para></entry>
<entry role="parameter_description"><para>the untrusted certificates stack.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>crls</para></entry>
<entry role="parameter_description"><para>the crls stack.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>keyInfoCtx</para></entry>
<entry role="parameter_description"><para>the pointer to &lt;dsig:KeyInfo/> element processing context.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 role="returns">
<title>Returns</title>
<para> pointer to the first verified certificate from <parameter>certs</parameter>
.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLX509StoreAdoptCert" role="function">
<title>xmlSecOpenSSLX509StoreAdoptCert&#160;()</title>
<indexterm zone="xmlSecOpenSSLX509StoreAdoptCert"><primary>xmlSecOpenSSLX509StoreAdoptCert</primary></indexterm>
<programlisting language="C"><link linkend="int"><returnvalue>int</returnvalue></link>
xmlSecOpenSSLX509StoreAdoptCert (<parameter><link linkend="xmlSecKeyDataStore"><type>xmlSecKeyDataStorePtr</type></link> store</parameter>,
                                 <parameter><link linkend="X509:CAPS"><type>X509</type></link> *cert</parameter>,
                                 <parameter><link linkend="xmlSecKeyDataType"><type>xmlSecKeyDataType</type></link> type</parameter>);</programlisting>
<para>Adds trusted (root) or untrusted certificate to the store.</para>
<refsect3 role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>store</para></entry>
<entry role="parameter_description"><para>the pointer to X509 key data store klass.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>cert</para></entry>
<entry role="parameter_description"><para>the pointer to OpenSSL X509 certificate.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>type</para></entry>
<entry role="parameter_description"><para>the certificate type (trusted/untrusted).</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 role="returns">
<title>Returns</title>
<para> 0 on success or a negative value if an error occurs.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLX509StoreAdoptCrl" role="function">
<title>xmlSecOpenSSLX509StoreAdoptCrl&#160;()</title>
<indexterm zone="xmlSecOpenSSLX509StoreAdoptCrl"><primary>xmlSecOpenSSLX509StoreAdoptCrl</primary></indexterm>
<programlisting language="C"><link linkend="int"><returnvalue>int</returnvalue></link>
xmlSecOpenSSLX509StoreAdoptCrl (<parameter><link linkend="xmlSecKeyDataStore"><type>xmlSecKeyDataStorePtr</type></link> store</parameter>,
                                <parameter><link linkend="X509-CRL:CAPS"><type>X509_CRL</type></link> *crl</parameter>);</programlisting>
<para>Adds X509 CRL to the store.</para>
<refsect3 role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>store</para></entry>
<entry role="parameter_description"><para>the pointer to X509 key data store klass.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>crl</para></entry>
<entry role="parameter_description"><para>the pointer to OpenSSL X509_CRL.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 role="returns">
<title>Returns</title>
<para> 0 on success or a negative value if an error occurs.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLX509StoreAddCertsPath" role="function">
<title>xmlSecOpenSSLX509StoreAddCertsPath&#160;()</title>
<indexterm zone="xmlSecOpenSSLX509StoreAddCertsPath"><primary>xmlSecOpenSSLX509StoreAddCertsPath</primary></indexterm>
<programlisting language="C"><link linkend="int"><returnvalue>int</returnvalue></link>
xmlSecOpenSSLX509StoreAddCertsPath (<parameter><link linkend="xmlSecKeyDataStore"><type>xmlSecKeyDataStorePtr</type></link> store</parameter>,
                                    <parameter>const <link linkend="char"><type>char</type></link> *path</parameter>);</programlisting>
<para>Adds all certs in the <parameter>path</parameter>
 to the list of trusted certs
in <parameter>store</parameter>
.</para>
<refsect3 role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>store</para></entry>
<entry role="parameter_description"><para>the pointer to OpenSSL x509 store.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>path</para></entry>
<entry role="parameter_description"><para>the path to the certs dir.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 role="returns">
<title>Returns</title>
<para> 0 on success or a negative value otherwise.</para>
</refsect3></refsect2>
<refsect2 id="xmlSecOpenSSLX509StoreAddCertsFile" role="function">
<title>xmlSecOpenSSLX509StoreAddCertsFile&#160;()</title>
<indexterm zone="xmlSecOpenSSLX509StoreAddCertsFile"><primary>xmlSecOpenSSLX509StoreAddCertsFile</primary></indexterm>
<programlisting language="C"><link linkend="int"><returnvalue>int</returnvalue></link>
xmlSecOpenSSLX509StoreAddCertsFile (<parameter><link linkend="xmlSecKeyDataStore"><type>xmlSecKeyDataStorePtr</type></link> store</parameter>,
                                    <parameter>const <link linkend="char"><type>char</type></link> *file</parameter>);</programlisting>
<para>Adds all certs in <parameter>file</parameter>
 to the list of trusted certs
in <parameter>store</parameter>
. It is possible for <parameter>file</parameter>
 to contain multiple certs.</para>
<refsect3 role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>store</para></entry>
<entry role="parameter_description"><para>the pointer to OpenSSL x509 store.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>file</para></entry>
<entry role="parameter_description"><para>the certs file.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 role="returns">
<title>Returns</title>
<para> 0 on success or a negative value otherwise.</para>
</refsect3></refsect2>

</refsect1>
<refsect1 id="xmlsec-openssl-x509.other_details" role="details">
<title role="details.title">Types and Values</title>
<refsect2 id="XMLSEC-STACK-OF-X509:CAPS" role="macro">
<title>XMLSEC_STACK_OF_X509</title>
<indexterm zone="XMLSEC-STACK-OF-X509:CAPS"><primary>XMLSEC_STACK_OF_X509</primary></indexterm>
<programlisting language="C">#define XMLSEC_STACK_OF_X509            STACK_OF(X509)
</programlisting>
<para>Macro. To make docbook happy.</para>
</refsect2>
<refsect2 id="XMLSEC-STACK-OF-X509-CRL:CAPS" role="macro">
<title>XMLSEC_STACK_OF_X509_CRL</title>
<indexterm zone="XMLSEC-STACK-OF-X509-CRL:CAPS"><primary>XMLSEC_STACK_OF_X509_CRL</primary></indexterm>
<programlisting language="C">#define XMLSEC_STACK_OF_X509_CRL        STACK_OF(X509_CRL)
</programlisting>
<para>Macro. To make docbook happy.</para>
</refsect2>
<refsect2 id="xmlSecOpenSSLKeyDataX509Id" role="macro">
<title>xmlSecOpenSSLKeyDataX509Id</title>
<indexterm zone="xmlSecOpenSSLKeyDataX509Id"><primary>xmlSecOpenSSLKeyDataX509Id</primary></indexterm>
<programlisting language="C">#define             xmlSecOpenSSLKeyDataX509Id</programlisting>
<para>The OpenSSL X509 data klass.</para>
</refsect2>
<refsect2 id="xmlSecOpenSSLKeyDataRawX509CertId" role="macro">
<title>xmlSecOpenSSLKeyDataRawX509CertId</title>
<indexterm zone="xmlSecOpenSSLKeyDataRawX509CertId"><primary>xmlSecOpenSSLKeyDataRawX509CertId</primary></indexterm>
<programlisting language="C">#define             xmlSecOpenSSLKeyDataRawX509CertId</programlisting>
<para>The OpenSSL raw X509 certificate klass.</para>
</refsect2>
<refsect2 id="xmlSecOpenSSLX509StoreId" role="macro">
<title>xmlSecOpenSSLX509StoreId</title>
<indexterm zone="xmlSecOpenSSLX509StoreId"><primary>xmlSecOpenSSLX509StoreId</primary></indexterm>
<programlisting language="C">#define             xmlSecOpenSSLX509StoreId</programlisting>
<para>The OpenSSL X509 store klass.</para>
</refsect2>

</refsect1>

</refentry>
